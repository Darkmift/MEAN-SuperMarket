{"version":3,"sources":["./src/app/shop/portal/panel-left/panel-left.component.html","./src/app/shop/portal/panel-middle/panel-middle.component.html","./src/app/shop/portal/panel-right/panel-right.component.html","./src/app/shop/portal/portal.component.html","./src/app/shop/portal/panel-left/panel-left.component.css","./src/app/shop/portal/panel-left/panel-left.component.ts","./src/app/shop/portal/panel-middle/panel-middle.component.css","./src/app/shop/portal/panel-middle/panel-middle.component.ts","./src/app/shop/portal/panel-right/panel-right.component.css","./src/app/shop/portal/panel-right/panel-right.component.ts","./src/app/shop/portal/portal-routing.module.ts","./src/app/shop/portal/portal.component.css","./src/app/shop/portal/portal.component.ts","./src/app/shop/portal/portalGroup.module.ts"],"names":[],"mappings":"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","file":"shop-portal-portalGroup-module-es2015.js","sourcesContent":["export default \"<div *ngIf=\\\"isLoading\\\"\\n  class=\\\"d-flex justify-content-center m-5\\\">\\n  <div class=\\\"spinner-border\\\"\\n    role=\\\"status\\\">\\n    <span class=\\\"sr-only\\\">Loading...</span>\\n  </div>\\n</div>\\n<div *ngIf=\\\"!isLoading\\\"\\n  class=\\\"card-body\\\">\\n\\n  <ng-container *ngIf=\\\"user.role; else elseTemplate\\\">\\n\\n    <h5>Welcome Administrator, {{user.firstName}}</h5>\\n    <p class=\\\"card-text\\\">Please click below to open your management</p>\\n\\n    <hr>\\n    <a class=\\\"btn btn-warning text-light\\\"\\n      (click)=\\\"checkIsAdmin()\\\">Manage Shop</a>\\n    <hr>\\n  </ng-container>\\n  <ng-template #elseTemplate>\\n\\n    <div *ngIf=\\\"hasPreviousCart\\\">\\n      <h5 class=\\\"card-title\\\">Welcome Back, {{user.firstName}}</h5>\\n      <p class=\\\"card-text\\\">Please click below to pick up from where you left off: </p>\\n      <hr>\\n      <a class=\\\"btn btn-success text-light\\\"\\n        (click)=\\\"resumeShopping()\\\">Resume Shopping</a>\\n      <hr>\\n    </div>\\n\\n    <div *ngIf=\\\"!hasPreviousCart\\\">\\n      <h5 class=\\\"card-title\\\">Welcome, {{user.firstName}}</h5>\\n      <p class=\\\"card-text\\\">Click below to start a new cart: </p>\\n      <hr>\\n      <a class=\\\"btn btn-success text-light\\\"\\n        (click)=\\\"resumeShopping()\\\">Start Shopping</a>\\n      <hr>\\n    </div>\\n  </ng-template>\\n</div>\\n\"","export default \"      <!--  -->\\n      <div *ngIf=\\\"!isLoading\\\"\\n        class=\\\"m-5\\\">\\n        <img src=\\\"{{imagePath}}\\\"\\n          class=\\\"card-img-top\\\"\\n          alt=\\\"{{imagePath}} is a picture of cat\\\">\\n        <div class=\\\"card-body\\\">\\n          <h5 class=\\\"card-title\\\">You should buy here</h5>\\n          <p class=\\\"card-text\\\">Meow</p>\\n          <br>\\n        </div>\\n      </div>\\n      <!--  -->\\n\"","export default \"<div *ngIf=\\\"isLoading\\\"\\n  class=\\\"d-flex justify-content-center m-5\\\">\\n  <div class=\\\"spinner-border\\\"\\n    role=\\\"status\\\">\\n    <span class=\\\"sr-only\\\">Loading...</span>\\n  </div>\\n</div>\\n\\n<div *ngIf=\\\"!isLoading\\\"\\n  class=\\\"m-3\\\">\\n  <img src=\\\"{{imagePath}}\\\"\\n    class=\\\"card-img-top\\\"\\n    alt=\\\"{{imagePath}} is a picture of cat\\\">\\n  <div class=\\\"card-body\\\">\\n    <h5 class=\\\"card-title\\\">Some useful info</h5>\\n    <ol class=\\\"card-text\\\">\\n      <li>Available products in our store:&nbsp;\\n        <span class=\\\"badge badge-success text-light\\\"> {{totalProductCount}}</span>\\n      </li>\\n      <li>Number of orders submitted in our store:&nbsp;\\n        <span class=\\\"badge badge-success text-light\\\">{{totalOrderCount}}</span>\\n      </li>\\n    </ol>\\n    <br>\\n\\n    <span *ngIf=\\\"hasPreviousCart && !userRole\\\">\\n      <h5 class=\\\"card-title\\\">Notification:</h5>\\n      <p class=\\\"card-text\\\">\\n        You have an open cart from: <span class=\\\"badge badge-success text-light\\\">{{formatDate(lastCartDate)}}</span>\\n      </p>\\n    </span>\\n  </div>\\n</div>\\n\"","export default \"<div class=\\\"row sizing\\\">\\n  <div class=\\\"col-4 padding-custom\\\">\\n    <div class=\\\"card mt-1 bg-light-blue\\\">\\n      <app-panel-left [isLoading]=\\\"isLoading\\\"\\n        [user]=\\\"user\\\"\\n        [hasPreviousCart]=\\\"hasPreviousCart\\\"\\n        [lastActiveCartId]=\\\"lastActiveCart?._id\\\"></app-panel-left>\\n    </div>\\n  </div>\\n  <div class=\\\"col-4 padding-custom\\\">\\n    <div class=\\\"card mt-1 bg-light-blue\\\">\\n      <app-panel-middle [imagePath]=\\\"imagePath\\\"\\n        [isLoading]=\\\"isLoading\\\"></app-panel-middle>\\n    </div>\\n  </div>\\n  <div class=\\\"col-4 padding-custom\\\">\\n    <div class=\\\"card mt-1 bg-light-blue\\\">\\n      <app-panel-right [userRole]=\\\"user.role\\\"\\n        [isLoading]=\\\"isLoading\\\"\\n        [imagePath]=\\\"imagePath\\\"\\n        [totalProductCount]=\\\"totalProductCount\\\"\\n        [totalOrderCount]=\\\"totalOrderCount\\\"\\n        [hasPreviousCart]=\\\"hasPreviousCart\\\"\\n        [lastCartDate]=\\\"lastCartDate\\\"></app-panel-right>\\n    </div>\\n  </div>\\n</div>\\n\"","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Nob3AvcG9ydGFsL3BhbmVsLWxlZnQvcGFuZWwtbGVmdC5jb21wb25lbnQuY3NzIn0= */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { User } from 'src/app/auth/models/user.model';\nimport { AuthService } from 'src/app/auth/auth.service';\nimport { Router } from '@angular/router';\nimport { Capitalize } from '../../../helpers/helpers';\nimport { ToastrService } from 'ngx-toastr';\n\n@Component({\n  selector: 'app-panel-left',\n  templateUrl: './panel-left.component.html',\n  styleUrls: ['./panel-left.component.css']\n})\nexport class PanelLeftComponent implements OnInit {\n\n  @Input() isLoading: boolean;\n  @Input() hasPreviousCart: boolean;\n  @Input() user: User;\n  @Input() lastActiveCartId: string;\n  private capitalize = Capitalize;\n\n\n  constructor(\n    private authService: AuthService,\n    private router: Router,\n    private toastService: ToastrService) { }\n\n  ngOnInit() {\n  }\n\n  checkIsAdmin() {\n    const isAdmin = this.authService.getRole();\n    console.log('TCL: PanelLeftComponent -> checkIsAdmin -> isAdmin', isAdmin);\n    if (!isAdmin) {\n      this.authService.logOut();\n      this.toastService.error('Alert!', 'Not authorized', { progressBar: true });\n    }\n    this.resumeShopping();\n  }\n\n  resumeShopping() {\n    this.router.navigate(['shop']);\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Nob3AvcG9ydGFsL3BhbmVsLW1pZGRsZS9wYW5lbC1taWRkbGUuY29tcG9uZW50LmNzcyJ9 */\"","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'app-panel-middle',\n  templateUrl: './panel-middle.component.html',\n  styleUrls: ['./panel-middle.component.css']\n})\nexport class PanelMiddleComponent implements OnInit {\n  @Input() isLoading: boolean;\n  @Input() imagePath: string;\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Nob3AvcG9ydGFsL3BhbmVsLXJpZ2h0L3BhbmVsLXJpZ2h0LmNvbXBvbmVudC5jc3MifQ== */\"","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'app-panel-right',\n  templateUrl: './panel-right.component.html',\n  styleUrls: ['./panel-right.component.css']\n})\nexport class PanelRightComponent implements OnInit {\n  @Input() isLoading: boolean;\n  @Input() imagePath: string;\n  @Input() totalProductCount: number;\n  @Input() totalOrderCount: number;\n  @Input() hasPreviousCart: boolean;\n  @Input() lastCartDate: Date;\n  @Input() userRole: string;\n  constructor() { }\n\n  ngOnInit() { }\n\n  private formatDate(dateString: Date) {\n    const parsedDate = new Date(dateString);\n    const monthNames = [\n      'January', 'February', 'March',\n      'April', 'May', 'June', 'July',\n      'August', 'September', 'October',\n      'November', 'December'\n    ];\n\n    const day = parsedDate.getDate();\n    const monthIndex = parsedDate.getMonth();\n    const year = parsedDate.getFullYear();\n\n    return day + ' ' + monthNames[monthIndex] + ' ' + year;\n  }\n\n}\n","import { NgModule } from '@angular/core';\r\nimport { Routes, Router, RouterModule } from '@angular/router';\r\nimport { PortalComponent } from './portal.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: PortalComponent},\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  exports: [RouterModule]\r\n})\r\nexport class PortalRoutingModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Nob3AvcG9ydGFsL3BvcnRhbC5jb21wb25lbnQuY3NzIn0= */\"","import { Component, OnInit, OnDestroy, Output, EventEmitter, AfterViewInit } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { AuthService } from '../../auth/auth.service';\nimport { User } from '../../auth/models/user.model';\nimport { Router } from '@angular/router';\nimport { CartsService } from '../services/carts.service';\nimport { Cart } from '../models/Cart';\nimport { ProductsService } from '../services/products.service';\nimport { OrdersService } from '../services/orders.service';\n\n@Component({\n  selector: 'app-portal',\n  templateUrl: './portal.component.html',\n  styleUrls: ['./portal.component.css']\n})\nexport class PortalComponent implements OnInit, OnDestroy {\n\n\n  isLoading = true;\n  role: boolean;\n  user: User;\n  imagePath: string;\n  hasPreviousCart: boolean;\n  lastActiveCart: Cart;\n  loadPaenlInfo = false;\n  totalProductCount: number;\n  totalOrderCount: number;\n  lastCartDate: string;\n\n  private authStatusSub: Subscription;\n  private getProductCountSubjectListener: Subscription;\n  private getOrderCountSubjectListener: Subscription;\n  private getHasPreviousCart: Subscription;\n  private getlastCartDataSubjectLisetner: Subscription;\n\n  constructor(\n    private authService: AuthService,\n    private router: Router,\n    private productsService: ProductsService,\n    private ordersService: OrdersService,\n    private cartService: CartsService) { }\n\n  ngOnInit() {\n\n    this.authStatusSub = this.authService.getAuthStatusListener()\n      .subscribe((isAuthenticated: boolean) => {\n        if (!isAuthenticated) {\n          // tslint:disable-next-line: no-unused-expression\n          this.router.navigate['/auth/login'];\n        }\n      });\n\n    this.isLoading = false;\n\n    this.imagePath = 'http://localhost:3000/public/images/grumpy.jpg';\n    this.user = this.authService.getUser();\n    this.role = this.user.role;\n\n    this.hasPreviousCart = false;\n    this.totalProductCount = 0;\n    this.totalOrderCount = 0;\n\n    // fetch product count\n    this.productsService.getProductCount();\n    // subscribe to count\n    this.getProductCountSubjectListener = this.productsService.getCountSubject()\n      .subscribe((count: number) => {\n        this.totalProductCount = count;\n      });\n\n    // fetch order count\n    this.ordersService.getOrderCount();\n    // subscribe to count\n    this.getOrderCountSubjectListener = this.ordersService.getCountSubject()\n      .subscribe((count: number) => {\n        this.totalOrderCount = count;\n      });\n\n    if (this.hasPreviousCart) {\n      this.lastCartDate = this.lastActiveCart.dateEdited;\n    }\n\n    // fetch lastActiveCart chunk - undefined or Cart object\n    this.cartService.getLastActiveCart(this.user.id, false);\n    this.getHasPreviousCart = this.cartService.gethasPreviousCart().subscribe((hasLastCart) => {\n      this.hasPreviousCart = hasLastCart;\n    });\n    this.getlastCartDataSubjectLisetner = this.cartService.getlastCartDataSubject().subscribe((cartData) => {\n      if (cartData.active) {\n        this.lastActiveCart = cartData;\n        this.lastCartDate = this.lastActiveCart.dateEdited;\n      }\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.authStatusSub.unsubscribe();\n    this.getProductCountSubjectListener.unsubscribe();\n    this.getOrderCountSubjectListener.unsubscribe();\n    this.getHasPreviousCart.unsubscribe();\n    this.getlastCartDataSubjectLisetner.unsubscribe();\n  }\n\n}\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { BootstrapModuleGroup } from 'src/app/bootstrapGroup/bootstrap-modules.module';\r\nimport { PortalComponent } from './portal.component';\r\nimport { PanelLeftComponent } from './panel-left/panel-left.component';\r\nimport { PanelMiddleComponent } from './panel-middle/panel-middle.component';\r\nimport { PanelRightComponent } from './panel-right/panel-right.component';\r\nimport { PortalRoutingModule } from './portal-routing.module';\r\n\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    PortalComponent,\r\n    PanelLeftComponent,\r\n    PanelMiddleComponent,\r\n    PanelRightComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    BootstrapModuleGroup,\r\n    FormsModule,\r\n    PortalRoutingModule\r\n  ]\r\n})\r\n\r\nexport class PortalGroupModule { }\r\n"],"sourceRoot":"webpack:///"}