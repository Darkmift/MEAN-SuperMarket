{"version":3,"sources":["src/app/helpers/helpers.ts","src/app/shop/services/products.service.ts"],"names":[],"mappings":"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","sourcesContent":["\nexport function Capitalize(s) {\n  if (typeof s !== 'string') {\n    return '';\n  }\n  return s.charAt(0).toUpperCase() + s.slice(1);\n}\n\nexport function func2() { }\n\n","import { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { HttpClient } from '@angular/common/http';\nimport { Subject } from 'rxjs';\nimport { environment } from 'src/environments/environment';\nimport { AuthService } from '../../auth/auth.service';\nimport { Product } from '../models/Product';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProductsService {\n  private apiUrl = environment.apiUrl;\n  private countSubject = new Subject<number>();\n  private productsByCategoryDataSubject = new Subject<Product[]>();\n  private searchProductsResult = new Subject<Product[]>();\n  private productToEdit = new Subject<Product>();\n  constructor(\n    private http: HttpClient,\n    private router: Router,\n    private authService: AuthService\n  ) { }\n\n\n  // Subject getters\n  getCountSubject() {\n    return this.countSubject.asObservable();\n  }\n\n  getproductsByCategoryDataSubject() {\n    return this.productsByCategoryDataSubject.asObservable();\n  }\n\n  getsearchProductsResult() {\n    return this.searchProductsResult.asObservable();\n  }\n\n  getProductToEdit() {\n    return this.productToEdit.asObservable();\n  }\n\n  ////\n\n  sendProductToEdit(product: Product) {\n    this.productToEdit.next(product);\n  }\n\n  getProductCount() {\n    this.http.get\n      <{ message: string, ProductCount: number; }>\n      (`${this.apiUrl}/products/getCount`).subscribe((response) => {\n        const count = response.ProductCount;\n        if (!isNaN(count)) {\n          this.countSubject.next(count);\n        }\n      });\n  }\n\n  getProductsByCategory(categoryId: string) {\n    this.http.get\n      <{ message: string, Product: Product[]; }>\n      (`${this.apiUrl}/products/getByCategory/${categoryId}`).subscribe((response) => {\n        const productsArray = response.Product;\n        if (productsArray) {\n          this.productsByCategoryDataSubject.next(productsArray);\n        }\n      });\n  }\n\n  getProductsByRegex(regex: string) {\n    this.http.get\n      <{ message: string, searchResults: Product[]; }>\n      (`${this.apiUrl}/products/search/${regex}`).subscribe((response) => {\n        const productsArray = response.searchResults;\n        if (productsArray) {\n          this.searchProductsResult.next(productsArray);\n        }\n      });\n  }\n\n  // createOrEdit true=create/false=edit\n  createOrEdit(\n    createOrEdit: boolean,\n    name: string,\n    categoryId: string,\n    price: string,\n    amount: string,\n    id: string,\n    imageUrl: string,\n    image: File) {\n\n    console.log('TCL: imageUrl', imageUrl);\n\n    const postData = new FormData();\n\n    postData.append('name', name);\n    postData.append('categoryId', categoryId);\n    postData.append('price', price);\n    postData.append('amount', amount);\n\n    if (createOrEdit) {\n      postData.append('image', image);\n\n      this.http\n        .post<{ message: string, result: Product; }>\n        (this.apiUrl + '/products/create', postData)\n        .subscribe((resData) => {\n          console.log('TCL: createOrEdit -> resData', resData);\n\n        });\n    } else {\n      if (image) {\n        postData.append('image', image);\n      } else {\n        postData.append('imgUrl', imageUrl);\n      }\n      postData.append('_id', id);\n\n      console.log('TCL: imageUrl', imageUrl);\n\n\n      this.http\n        .put<{ message: string, result: number; }>\n        (this.apiUrl + '/products/edit', postData)\n        .subscribe((resData) => {\n          console.log('TCL: createOrEdit -> resData', resData);\n\n        });\n    }\n  }\n}\n"],"sourceRoot":"webpack:///"}