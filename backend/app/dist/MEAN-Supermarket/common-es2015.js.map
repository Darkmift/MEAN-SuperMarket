{"version":3,"sources":["./src/app/helpers/helpers.ts","./src/app/shop/services/products.service.ts"],"names":[],"mappings":"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","file":"common-es2015.js","sourcesContent":["\nexport function Capitalize(s) {\n  if (typeof s !== 'string') {\n    return '';\n  }\n  return s.charAt(0).toUpperCase() + s.slice(1);\n}\n\nexport function func2() { }\n\n","import { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { HttpClient } from '@angular/common/http';\nimport { Subject } from 'rxjs';\nimport { environment } from 'src/environments/environment';\nimport { AuthService } from '../../auth/auth.service';\nimport { Product } from '../models/Product';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProductsService {\n  private apiUrl = environment.apiUrl;\n  private countSubject = new Subject<number>();\n  private productsByCategoryDataSubject = new Subject<Product[]>();\n  private searchProductsResult = new Subject<Product[]>();\n  private productToEdit = new Subject<Product>();\n  constructor(\n    private http: HttpClient,\n    private router: Router,\n    private authService: AuthService\n  ) { }\n\n\n  // Subject getters\n  getCountSubject() {\n    return this.countSubject.asObservable();\n  }\n\n  getproductsByCategoryDataSubject() {\n    return this.productsByCategoryDataSubject.asObservable();\n  }\n\n  getsearchProductsResult() {\n    return this.searchProductsResult.asObservable();\n  }\n\n  getProductToEdit() {\n    return this.productToEdit.asObservable();\n  }\n\n  ////\n\n  sendProductToEdit(product: Product) {\n    this.productToEdit.next(product);\n  }\n\n  getProductCount() {\n    this.http.get\n      <{ message: string, ProductCount: number; }>\n      (`${this.apiUrl}/products/getCount`).subscribe((response) => {\n        const count = response.ProductCount;\n        if (!isNaN(count)) {\n          this.countSubject.next(count);\n        }\n      });\n  }\n\n  getProductsByCategory(categoryId: string) {\n    this.http.get\n      <{ message: string, Product: Product[]; }>\n      (`${this.apiUrl}/products/getByCategory/${categoryId}`).subscribe((response) => {\n        const productsArray = response.Product;\n        if (productsArray) {\n          this.productsByCategoryDataSubject.next(productsArray);\n        }\n      });\n  }\n\n  getProductsByRegex(regex: string) {\n    this.http.get\n      <{ message: string, searchResults: Product[]; }>\n      (`${this.apiUrl}/products/search/${regex}`).subscribe((response) => {\n        const productsArray = response.searchResults;\n        if (productsArray) {\n          this.searchProductsResult.next(productsArray);\n        }\n      });\n  }\n\n  // createOrEdit true=create/false=edit\n  createOrEdit(\n    createOrEdit: boolean,\n    name: string,\n    categoryId: string,\n    price: string,\n    amount: string,\n    id: string,\n    imageUrl: string,\n    image: File) {\n\n    console.log('TCL: imageUrl', imageUrl);\n\n    const postData = new FormData();\n\n    postData.append('name', name);\n    postData.append('categoryId', categoryId);\n    postData.append('price', price);\n    postData.append('amount', amount);\n\n    if (createOrEdit) {\n      postData.append('image', image);\n\n      this.http\n        .post<{ message: string, result: Product; }>\n        (this.apiUrl + '/products/create', postData)\n        .subscribe((resData) => {\n          console.log('TCL: createOrEdit -> resData', resData);\n\n        });\n    } else {\n      if (image) {\n        postData.append('image', image);\n      } else {\n        postData.append('imgUrl', imageUrl);\n      }\n      postData.append('_id', id);\n\n      console.log('TCL: imageUrl', imageUrl);\n\n\n      this.http\n        .put<{ message: string, result: number; }>\n        (this.apiUrl + '/products/edit', postData)\n        .subscribe((resData) => {\n          console.log('TCL: createOrEdit -> resData', resData);\n\n        });\n    }\n  }\n}\n"],"sourceRoot":"webpack:///"}